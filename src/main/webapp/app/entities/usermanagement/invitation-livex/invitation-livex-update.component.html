<div class="row justify-content-center">
    <div class="col-8">
        <form name="editForm" role="form" novalidate (ngSubmit)="save()" #editForm="ngForm">
            <h2 id="jhi-invitation-livex-heading">Create or edit a Invitation</h2>
            <div>
                <jhi-alert-error></jhi-alert-error>
                <div class="form-group" [hidden]="!invitation.id">
                    <label for="id">ID</label>
                    <input type="text" class="form-control" id="id" name="id"
                        [(ngModel)]="invitation.id" readonly />
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_key" ngbTooltip="Key is UUID which can be used to fetch details about all the child SupplierDataRequests

It could be sent in the email and is used to populate the request details for the company user">Key</label>
                    <input type="text" class="form-control" name="key" id="field_key"
                        [(ngModel)]="invitation.key" required/>
                    <div [hidden]="!(editForm.controls.key?.dirty && editForm.controls.key?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.key?.errors?.required">
                        This field is required.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_pin">Pin</label>
                    <input type="number" class="form-control" name="pin" id="field_pin"
                        [(ngModel)]="invitation.pin" />
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_invitationDate">Invitation Date</label>
                    <div class="input-group">
                        <input id="field_invitationDate" type="text" class="form-control" name="invitationDate" ngbDatepicker  #invitationDateDp="ngbDatepicker" [(ngModel)]="invitation.invitationDate"
                        required/>
                        <span class="input-group-append">
                            <button type="button" class="btn btn-secondary" (click)="invitationDateDp.toggle()"><fa-icon [icon]="'calendar-alt'"></fa-icon></button>
                        </span>
                    </div>
                    <div [hidden]="!(editForm.controls.invitationDate?.dirty && editForm.controls.invitationDate?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.invitationDate?.errors?.required">
                        This field is required.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_validTill" ngbTooltip="validTill represents the date till when this invitation is vaild. If someone tries to onboard after this date, registration will be rejected.">Valid Till</label>
                    <div class="input-group">
                        <input id="field_validTill" type="text" class="form-control" name="validTill" ngbDatepicker  #validTillDp="ngbDatepicker" [(ngModel)]="invitation.validTill"
                        />
                        <span class="input-group-append">
                            <button type="button" class="btn btn-secondary" (click)="validTillDp.toggle()"><fa-icon [icon]="'calendar-alt'"></fa-icon></button>
                        </span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_isInvalid" ngbTooltip="If we need to deactivate / invalidate any invitation, set its isInvalid attribute to true">Is Invalid</label>
                    <input type="checkbox" class="form-control" name="isInvalid" id="field_isInvalid"
                        [(ngModel)]="invitation.isInvalid" />
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="field_userProfile">User Profile</label>
                    <select class="form-control" id="field_userProfile" name="userProfile" [(ngModel)]="invitation.userProfileId">
                        <option [ngValue]="null"></option>
                        <option [ngValue]="userProfileOption.id" *ngFor="let userProfileOption of userprofiles; trackBy: trackUserProfileById">{{userProfileOption.id}}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_company">Company</label>
                    <select class="form-control" id="field_company" name="company" [(ngModel)]="invitation.companyId">
                        <option [ngValue]="null"></option>
                        <option [ngValue]="companyOption.id" *ngFor="let companyOption of companies; trackBy: trackCompanyById">{{companyOption.id}}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_supplierInvitationDetails">Supplier Invitation Details</label>
                    <select class="form-control" id="field_supplierInvitationDetails" name="supplierInvitationDetails" [(ngModel)]="invitation.supplierInvitationDetailsId">
                        <option [ngValue]="null"></option>
                        <option [ngValue]="supplierInvitationDetailsOption.id" *ngFor="let supplierInvitationDetailsOption of supplierinvitationdetails; trackBy: trackSupplierInvitationDetailsById">{{supplierInvitationDetailsOption.id}}</option>
                    </select>
                </div>
            </div>
            <div>
                <button type="button" id="cancel-save" class="btn btn-secondary"  (click)="previousState()">
                    <fa-icon [icon]="'ban'"></fa-icon>&nbsp;<span>Cancel</span>
                </button>
                <button type="submit" id="save-entity" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary">
                    <fa-icon [icon]="'save'"></fa-icon>&nbsp;<span>Save</span>
                </button>
            </div>
        </form>
    </div>
</div>
